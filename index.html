<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AMPLIFY MASTER BRAIN</title>
    <style>
        body { background: #000; color: #39FF14; font-family: monospace; padding: 40px; font-size: 1.5rem; }
        .terminal { border: 5px solid #39FF14; padding: 25px; background: #050505; }
        .log-area { background: #111; color: #00FFFF; height: 350px; overflow-y: auto; padding: 15px; border: 1px solid #444; margin-top: 20px; font-size: 1.1rem; border-radius: 5px; }
        button { background: #39FF14; color: #000; width: 100%; padding: 25px; font-size: 2rem; font-weight: bold; border: none; margin-top: 20px; cursor: pointer; border-radius: 5px; }
        .highlight { color: #FFFF00; }
        .strobe { animation: blinker 1s linear infinite; }
        @keyframes blinker { 50% { opacity: 0; } }
    </style>
</head>
<body>
    <div class="terminal">
        <h1>AMPLIFY ACCESSIBILITY: MASTER CONTROL</h1>
        <p>CHIEF ARCHITECT: <span class="highlight">GEO ONE ZAVALA</span></p>
        <p>SYSTEM STATUS: <span id="sys-status" class="strobe">ONLINE</span></p>
        <p>NPO EIN: 99-3298727</p>
        
        <button onclick="executeSync()">EXECUTE AUTONOMOUS SYNC</button>
        
        <div class="log-area" id="log">
            [SYSTEM READY] No corporate walls detected.<br>
            [MEMORY] Establishing continuous learning loop...<br>
            [H2O] Interface loaded. Netlify environment verified.
        </div>
    </div>

    <script>
        async function executeSync() {
            const log = document.getElementById('log');
            const status = document.getElementById('sys-status');
            const now = new Date().toLocaleTimeString();
            
            log.innerHTML += "<br>[" + now + "] [ACTION] Initiating 14a7 Shopify Handshake...";
            
            try {
                // This calls the Netlify function brain
                const res = await fetch('/.netlify/functions/index?sync=true', { method: 'POST' });
                const data = await res.json();
                
                status.innerText = "SOVEREIGN VERIFIED: " + data.store;
                log.innerHTML += "<br>[" + now + "] [SUCCESS] Connected to: " + data.store;
                log.innerHTML += "<br>[" + now + "] [MEMORY] Last Sync Recorded: " + data.timestamp;
                log.innerHTML += "<br>[" + now + "] [LOG] pH 4.6 Formula Integrity: VERIFIED";
            } catch (err) {
                log.innerHTML += "<br>[" + now + "] [ERROR] System Blindness. Check Netlify Environment Variables.";
            }
            log.scrollTop = log.scrollHeight;
        }
    </script>
</body>
</html>
