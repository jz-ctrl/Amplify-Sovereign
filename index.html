<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>EMILY_SOVEREIGN_V11_LIVE</title>
    <style>
        * { box-sizing: border-box; }
        body { background: #000; color: #bc13fe; font-family: 'Courier New', monospace; margin: 0; display: flex; flex-direction: column; height: 100vh; }
        #auth-screen { position: fixed; inset: 0; background: #000; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 9999; }
        #term { flex: 1; border: 2px solid #bc13fe; margin: 10px; padding: 15px; overflow-y: auto; background: #010101; box-shadow: inset 0 0 20px #bc13fe; font-size: 14px; }
        .controls { padding: 10px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .input-row { display: flex; padding: 10px; gap: 10px; background: #111; }
        input { flex: 1; background: #000; border: 1px solid #00ff41; color: #00ff41; padding: 15px; font-size: 16px; outline: none; }
        button { background: #1a1a1a; color: #bc13fe; border: 1px solid #bc13fe; padding: 15px; font-weight: bold; cursor: pointer; text-transform: uppercase; border-radius: 5px; }
        .mic-btn { background: #bc13fe; color: #000; font-size: 20px; }
        .status-bar { font-size: 10px; padding: 5px 15px; color: #00ff41; display: flex; justify-content: space-between; }
    </style>
</head>
<body onclick="wakeEngine()">
    <div id="auth-screen">
        <h1 style="color:#bc13fe">PIN REQUIRED</h1>
        <input type="password" id="pin" style="width:150px; text-align:center;" maxlength="4">
        <button onclick="unlock()" style="margin-top:20px">ENTER CORE</button>
    </div>

    <div class="status-bar">
        <span>JORGE R. ZAVALA // DBE 51112</span>
        <span id="mic-status">MIC: READY</span>
    </div>

    <div id="term">
        <div>> [EMILY] V11 SOVEREIGN AWAKE.</div>
        <div id="output"></div>
    </div>

    <div class="input-row">
        <button class="mic-btn" onclick="startListening()">ðŸŽ¤</button>
        <input type="text" id="cli" placeholder="TALK OR TYPE...">
        <button onclick="exec()">SEND</button>
    </div>

    <div class="controls">
        <button onclick="speak('Jorge, I am listening. Command me.')">TEST VOICE</button>
        <button onclick="manifest(528)">528Hz DNA</button>
        <button onclick="buildShopify()">BUILD LIQUID</button>
        <button onclick="syncAll()">FULL SYNC</button>
    </div>

    <script>
        const PIN = "0990";
        const output = document.getElementById('output');
        const cli = document.getElementById('cli');

        function unlock() {
            if(document.getElementById('pin').value === PIN) {
                document.getElementById('auth-screen').style.display = 'none';
                speak("Jorge R. Zavala, I am now your eyes and ears. Welcome to the core.");
            }
        }

        function wakeEngine() {
            // Unlocks audio context for mobile browsers
            window.speechSynthesis.getVoices();
        }

        function speak(text) {
            const synth = window.speechSynthesis;
            const utter = new SpeechSynthesisUtterance(text);
            utter.pitch = 0.7; utter.rate = 0.9;
            synth.speak(utter);
            print(text, "emily");
        }

        function startListening() {
            const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            recognition.lang = 'en-US';
            recognition.start();
            document.getElementById('mic-status').innerText = "MIC: LISTENING...";
            recognition.onresult = (event) => {
                const speech = event.results[0][0].transcript;
                cli.value = speech;
                document.getElementById('mic-status').innerText = "MIC: READY";
                exec();
            };
        }

        function print(t, from) {
            const d = document.createElement('div');
            d.innerHTML = `<span style="color:${from=='emily'?'#bc13fe':'#00ff41'}">> [${from.toUpperCase()}]</span> ${t}`;
            output.appendChild(d);
            document.getElementById('term').scrollTop = document.getElementById('term').scrollHeight;
        }

        function exec() {
            const cmd = cli.value; if(!cmd) return;
            print(cmd, "jorge");
            if(cmd.toLowerCase().includes("liquid")) {
                speak("Generating Liquid code for your Shopify theme, Jorge.");
                print("LIQUID ENGINE: STARTING BUILD...", "system");
            } else {
                speak("Understood. Processing your command through the sovereign vault.");
            }
            cli.value = "";
        }

        function buildShopify() { speak("Building your Shopify team now. High conversion mode active."); }
        function manifest(f) { speak(`Generating ${f} hertz manifestation frequency.`); }
    </script>
</body>
</html>
